### 间接原则

#### 面向接口编程

OOP领域似乎经常强调这一点，但是这其实并不是OOP的特色。接口的意义，在于它作为一个间接层，联系了用户与实现者。用户不需要也不应该直接去接触这个地方，而是通过接口去访问。使用者因此不需要了解那么多有关实现的细节，并且因为不明白细节，系统变得更安全了。如Unix的内核对用户提供专门的操作指令，但是并不让你去直接修改内核。

如果我们将这一原则迁移到其他领域，同样合适，例如金钱。金钱的产生，使得**原有的物物交换**不再显得那么必要，金钱提供了一个间接层，充当物物交换的媒介。直觉上看，添加了一个间接层，似乎会拖累整个系统，但是实际上间接层的出现实际上是有利的。货币的流通**大大加快了物物交换的速度**。同样的，当我们来面对编程的世界中，两个沟通的层次是人与机器，机器语言、汇编语言、高级语言等的出现，都可以看作是间接层，它们最终都不断便利着人对机器的操控。

![](/assets/interface.jpg)

> Any problem in computer science can be solved with another layer of indirection

上面是业内流传的一句经典的话，任何问题都可以通过添加一个抽象层来解决。不过，据说原作者实际上还添了半句话：

> Except for the problem of too many layers of indirection.

也就是说，当添加间接层试图解决问题的时候，间接层本身成了问题。

### 抽象必漏

Joel Spolsky曾经在自己的博客中谈到了一个话题：The Leaky Law of Abstraction。意思说，虽然我们一直在试图使用抽象试图隐藏底层的细节，但是



